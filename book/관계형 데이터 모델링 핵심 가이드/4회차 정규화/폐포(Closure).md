### 폐포(Closure)

> 해당 챕터는 책의 내용에 부가적인 설명이 적기 때문에 주제만 가져오고 내부 내용은 별도로 작성한다.

### 단어적 의미
---
**일반적 의미의 폐포**

`폐포(Closure / 閉包)`라는 용어는 수학 및 컴퓨터 과학에서 널리 사용되는 개념.

다만, 도메인에 따라 그 의미가 조금씩 다를 수 있음.

일반적으로 `폐포`라는 용어는 `어떤 연산에 대해 결과가 원래의 집합에 속하도록 하는 속성`을 의미.

이 용어는 라틴어 `claudere`에서 유래, 이는 `닫다` 또는 `폐쇄하다`라는 `의미`를 가집니다. 

따라서, `폐포`는 말 그대로 `닫힌 집합`을 의미.

**데이터베이스에서 폐포**

>Definition. Formally, the set of all dependencies that include F as well as all dependencies that can be inferred from F is called the closure of F; it is denoted by F+.
>
>(여기서  F란 주어진 집합 set F) `F를 포함한 모든 종속성 집합`과 `F로부터 유추 되어 질 수 있는 모든 종속성 집합`을 `F의 closure 즉 폐포`라고 하며 `F+`로 표시 된다.
>
>-Elmasri, R., & Navathe, S. B. (2011). Fundamentals of database systems. Boston: Pearson/Addison-Wesley.-

데이터베이스의 맥락에서 `폐포`는 `함수 종속성을 통해 얻을 수 있는 모든 속성의 집합`을 의미.

특정 속성 집합에 대한 폐포를 구하면, 그 집합으로부터 함수 종속성을 통해 유도할 수 있는 모든 속성을 알 수 있게 됨.

>함수 종속성이 X → Y, Z 라고 한다면, X의 closure는 X, Y, Z 라고 표현될 수 있음. \
>X+ = X, Y, Z

>앞으로 정리한 글에서는 폐포 보다는 Closure, 클로저라는 단어를 사용하도록 하겠음.

### 클로저 도출 예제 
---

엔티티 R에 {A, B, C, D, E }에 아래와 같은 함수 종속이 있을 경우.

1. A->C
2. B->D
3. A,B -> E

추론할 수 있는 모든 클로저는 다음과 같음.

1. A+ = A,C
2. B+ = B,D
3. (A, B)+ = A,B,C,D,E

> (A, B)+ = A,B,C,D,E 와 같이 (A, B)+가 릴레이션 R의 전체 속성을 포함하고 있으므로 릴레이션 R의 키는 A와 B 속성이 됨. 

### 암스트롱 공리와 종속성 추론 규칙
---

>암스트롱의 공리는 함수적 종속성의 논리적 특성을 설명하는 세 가지 규칙을 제공하는 추론 체계임. \
> 이 세 가지 규칙은 `반사성`, `증가성`, 그리고 `추이성`임.

암스트롱의 공리는 복잡한 함수 종속성 집합에서 유도된 종속성을 식별하고, 이를 사용하여 데이터베이스 스키마를 설계하거나 최적화하는 데 유용.


### 기본 공리(Axioms)
---

1. **반사성(Reflexivity)**
   >Y ⊆ X 이면 X → Y \
   만약 Y가 X의 부분 집합이면, X는 Y를 결정함.

예시 :  X = {주민등록번호, 이름}, Y = {이름}일 때, Y는 X의 부분 집합이므로 X → Y가 성립.

2. **확대성(Augmentation)**
   >X → Y 이면 XZ → YZ \
   >만약 X가 Y를 결정한다면, X와 어떤 집합 Z를 합친 것은 Y와 Z를 합친 것을 결정함.

예시 : X = {주민등록번호}, Y = {이름}, Z = {생년월일}일 때,` 주민등록번호는 이름을 결정`하므로, `주민등록번호와 생년월일`은 `이름과 생년월일을 결정`.

3. **이행성(Transitivity)**
   >X → Y 이고, Y → Z 이면 X → Z \
   >만약 X가 Y를 결정하고, Y가 Z를 결정한다면, X는 Z를 결정함.

예시 : X = {주민등록번호}, Y = {이름}, Z = {핸드폰번호}일 때, `주민등록번호는 이름을 결정`하고, `이름이 핸드폰 번호를 결정`하므로, `주민등록번호는 핸드폰 번호를 결정`함.

### 보조 규칙(Secondary Rules)
---

4. **분해(Decomposition)**
   >X → YZ 이면, X → Y 이면 X → Z
   >만약 X가 Y와 Z를 결정한다면, X는 Y와 Z 각각을 결정.

예시 : X = {주민등록번호}, Y = {이름}, Z = {생년월일}일 때, 주민등록번호는 이름과 생년월일을 결정하므로, 주민등록번호는 이름과 생년월일 각각을 결정함.

5. **결합, 합집합(Union)**
   >X → Y 이고, X → Z 이면 X → YZ
   >만약 X가 Y와 Z를 각각 결정한다면, X는 Y와 Z를 결정.

예시 : X = {주민등록번호}, Y = {이름}, Z = {생년월일}일 때, 주민등록번호는 이름과 생년월일을 각각 결정하므로, 주민등록번호는 이름과 생년월일을 결정함.

6. **유사 이행성(Pseudo Transitivity)**
   >X → Y 이고, YZ → W 이면 XZ → W 성립
   >만약 X가 Y를 결정하고, Y와 Z가 W를 결정한다면, X와 Z는 W를 결정.

예시 : X = {주민등록번호}, Y = {이름}, Z = {핸드폰번호}, W = {이메일}일 때, 주민등록번호는 이름을 결정하고, 이름과 핸드폰번호는 이메일을 결정하므로, 주민등록번호와 핸드폰번호는 이메일을 결정함.

### 표
---

|공리 이름|규칙|
|---|---|
|반사성 (Reflexivity)|만약 Y가 X의 부분집합이라면, X → Y가 성립.|
|확대성 (Augmentation)|만약 X → Y가 성립하면, XZ → YZ가 성립.|
|이행성 (Transitivity)|만약 X → Y가 성립하고 Y → Z가 성립하면, X → Z가 성립.|
|분해 (Decomposition)|만약 X → YZ가 성립하면, X → Y와 X → Z가 성립.|
|결합,합집합 (Union)|만약 X → Y와 X → Z가 성립하면, X → YZ가 성립.|
|유사 이행성 (Pseudo Transitivity)|만약 X → Y가 성립하고, YZ → W가 성립하면, XZ → W가 성립.|

### 참조
---
[Armstrong's Axioms in Functional Dependency in DBMS - GeeksforGeeks](https://www.geeksforgeeks.org/armstrongs-axioms-in-functional-dependency-in-dbms/)
